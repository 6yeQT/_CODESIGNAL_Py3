def sudoku2(grid):
    for i in range(9):
        for j in range(9):
            num = grid[i][j]
            if num != '.':
                for k in range(9):
                    if k != j and grid[i][k] == num:
                        return False
                    if k != i and grid[k][j] == num:
                        return False
                    top_i = i - i%3
                    top_j = j - j%3
                    if (top_i+k//3,top_j+k%3) != (i,j) and grid[top_i+k//3][top_j+k%3] == num:
                        return False

    return True


# grid =  [[".",".","5",".",".",".",".",".","."],
#          [".",".",".","8",".",".",".","3","."],
#          [".","5",".",".","2",".",".",".","."],
#          [".",".",".",".",".",".",".",".","."],
#          [".",".",".",".",".",".",".",".","9"],
#          [".",".",".",".",".",".","4",".","."],
#          [".",".",".",".",".",".",".",".","7"],
#          [".","1",".",".",".",".",".",".","."],
#          ["2","4",".",".",".",".","9",".","."]]
grid = [['.', '.', '.', '.', '2', '.', '.', '9', '.'],
        ['.', '.', '.', '.', '6', '.', '.', '.', '.'],
        ['7', '1', '.', '.', '7', '5', '.', '.', '.'],
        ['.', '7', '.', '.', '.', '.', '.', '.', '.'],
        ['.', '.', '.', '.', '8', '3', '.', '.', '.'],
        ['.', '.', '8', '.', '.', '7', '.', '6', '.'],
        ['.', '.', '.', '.', '.', '2', '.', '.', '.'],
        ['.', '1', '.', '2', '.', '.', '.', '.', '.'],
        ['.', '2', '.', '.', '3', '.', '.', '.', '.']]

print('sudoku 1: ', sudoku2(grid))
# print('sudoku 2: ', sudoku2(grid2))